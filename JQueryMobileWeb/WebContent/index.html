<!DOCTYPE html>
<html>
    
    <head>
        <title>title</title>
        <link rel="stylesheet" href="http://code.jquery.com/mobile/git/jquery.mobile-git.min.css" />
	<script src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
	<script src="http://code.jquery.com/mobile/git/jquery.mobile-git.min.js"></script>
        <!-- style>
	html, body { padding: 0; margin: 0; }
	html, .ui-mobile, .ui-mobile body {
    	height: 415px;
	}
	.ui-mobile, .ui-mobile .ui-page {
    	min-height: 415px;
	}
	.ui-content{
		padding:10px 15px 0px 15px;
	}
	</style-->
        <script>
        $(document).ready(
        	function(){
			 $( "#login" ).click(function() {
					$.ajax({
				     url: 'http://localhost:8180/LoJackWeb/rest/sayHello/jsonp/login',
				     dataType: 'jsonp',
				     data: {
				         username: $('#user').val(),
				         password: $('#pass').val()
				     },
				     success: function (data) {
				         if (data.result == 'OK') {
							 $.mobile.changePage('home.html', { dataUrl : "second.html?paremeter=123", data : { 'paremeter' : '123' }, reloadPage : false, changeHash : true });
							 return false;
				         } else {
				        	 $.mobile.changePage( "errDialog.html", { role: "dialog"} );
					     }
				    }
				});	
				});
        	});
		</script>
    </head>
    
    <body>
        <div data-role="page" id="loginPage">
            <div data-role="content">
                <div data-role="fieldcontain">
                    <label for="text1">Usuario</label>
                    <input type="text" id="user">
                </div>
                <div data-role="fieldcontain">
                    <label for="text2">Contraseña</label>
                    <input type="password" id="pass">
                </div>
                <a data-role="button" id="login">Ingresar</a>
            </div>
        </div>
        
        
        <div data-role="dialog" id="loginErrDialog" data-title="Error">
            <div data-role="content">
                <span>El usuario o contraseña son incorrectos</span>
                <a href="#" data-rel="back">Cerrar</a>
            </div>
        </div>
        
        <div data-role="dialog" id="loginErrDialog1">

			<div data-role="header">
				<h1>Error</h1>
			</div>
			<div data-role="main"  class="ui-content">
				<h1>Usuario o contraseña incorrectos</h1>
				<p>Su usuario o contraseña no han podido ser validos</p>
				<a href="#" data-role="button" data-rel="back">Cerrar</a>
			</div>
		</div>
    </body>

</html>