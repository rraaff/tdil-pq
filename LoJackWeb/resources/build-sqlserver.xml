<project name="Thalamus" basedir="." default="createTables">

	<property name="project.name.cap" value="LoJack" />
	<property name="project.name.upper" value="LOJACK" />
	<property name="project.name.lower" value="lojack" />
	
	<property name="sql.driver" value="com.microsoft.sqlserver.jdbc.SQLServerDriver" />
	<property name="root.url" value="jdbc:sqlserver://192.168.56.101" />
	<property name="root.user" value="sa" />
	<property name="root.pass" value="password" />

	<property name="db.url" value="jdbc:sqlserver://192.168.56.101;database=LOJACK_DB;" />
	<property name="db.user" value="${project.name.upper}_USER" />
	<property name="db.pass" value="${project.name.upper}_USER" />

	<taskdef resource="net/sf/antcontrib/antlib.xml"
			classpath="./ant-contrib.jar" />

	<target name="createDatabase">
		<sql driver="${sql.driver}" url="${root.url}" userid="${root.user}" password="${root.pass}">
			<classpath>
				<pathelement location="../../thalamusJClient/EnvironmentLibraries/sqljdbc4.jar" />
			</classpath>
			<transaction src="database-sqlserver.sql" />
		</sql>
	</target>

	<target name="createTables">
		<sql driver="${sql.driver}" url="${db.url}" userid="${db.user}" password="${db.pass}">
			<classpath>
				<pathelement location="../../thalamusJClient/EnvironmentLibraries/sqljdbc4.jar" />
			</classpath>
			<transaction src="ddl-sqlserver.sql" />
			<transaction src="poi_inserts.sql" />
		</sql>
	</target>

	<target name="useThalamusTest">
		<sql driver="${sql.driver}" url="${db.url}" userid="${db.user}" password="${db.pass}">
			<classpath>
				<pathelement location="../../thalamusJClient/EnvironmentLibraries/sqljdbc4.jar" />
			</classpath>
			<transaction src="thalamus_test.sql" />
		</sql>
	</target>
	
	<target name="useThalamusFake">
		<sql driver="${sql.driver}" url="${db.url}" userid="${db.user}" password="${db.pass}">
			<classpath>
				<pathelement location="../../thalamusJClient/EnvironmentLibraries/sqljdbc4.jar" />
			</classpath>
			<transaction src="thalamus_fake.sql" />
		</sql>
	</target>

	<target name="useMWTest">
		<sql driver="${sql.driver}" url="${db.url}" userid="${db.user}" password="${db.pass}">
			<classpath>
				<pathelement location="../../thalamusJClient/EnvironmentLibraries/sqljdbc4.jar" />
			</classpath>
			<transaction src="use_mw_test.sql" />
		</sql>
	</target>
	
	<target name="useMWFake">
		<sql driver="${sql.driver}" url="${db.url}" userid="${db.user}" password="${db.pass}">
			<classpath>
				<pathelement location="../../thalamusJClient/EnvironmentLibraries/sqljdbc4.jar" />
			</classpath>
			<transaction src="use_mw_fake.sql" />
		</sql>
	</target>
</project>