<project name="Thalamus" basedir="." default="createTables">

	<property name="project.name.cap" value="LoJack" />
	<property name="project.name.upper" value="LOJACK" />
	<property name="project.name.lower" value="lojack" />
	
	<property name="sql.driver" value="com.microsoft.sqlserver.jdbc.SQLServerDriver" />
	<property name="root.url" value="jdbc:sqlserver://192.168.0.104:1123" />
	<property name="root.user" value="sa" />
	<property name="root.pass" value="root" />

	<property name="db.url" value="jdbc:sqlserver://192.168.0.104:1123;database=LOJACK_DB;" />
	<property name="db.user" value="${project.name.upper}_USER" />
	<property name="db.pass" value="p4l0ll1n4" />

	<taskdef resource="net/sf/antcontrib/antlib.xml"
			classpath="./ant-contrib.jar" />

	<target name="createDatabase">
		<sql driver="${sql.driver}" url="${root.url}" userid="${root.user}" password="${root.pass}">
			<classpath>
				<pathelement location="../../EnvironmentLibraries/sqljdbc4.jar" />
			</classpath>
			<transaction src="database-sqlserver.sql" />
		</sql>
	</target>

	<target name="createTables">
		<sql driver="${sql.driver}" url="${db.url}" userid="${db.user}" password="${db.pass}">
			<classpath>
				<pathelement location="../../EnvironmentLibraries/sqljdbc4.jar" />
			</classpath>
			<transaction src="ddl-sqlserver.sql" />
			<transaction src="sysproperties.sql" />
			<transaction src="poi_inserts.sql" />
			
			<transaction src="ddl9-sqlserver.sql" />
			<transaction src="ddl10-sqlserver.sql" />
			<transaction src="ddl12-sqlserver.sql" />
			<transaction src="ddl13-sqlserver.sql" />
			<transaction src="ddl14-sqlserver.sql" />
		</sql>
	</target>
	
	<target name="incremental-1">
		<sql driver="${sql.driver}" url="${db.url}" userid="${db.user}" password="${db.pass}">
			<classpath>
				<pathelement location="../../EnvironmentLibraries/sqljdbc4.jar" />
			</classpath>
			<transaction src="ddl1-sqlserver.sql" />
		</sql>
	</target>
	
	<target name="incremental-3">
		<sql driver="${sql.driver}" url="${db.url}" userid="${db.user}" password="${db.pass}">
			<classpath>
				<pathelement location="../../EnvironmentLibraries/sqljdbc4.jar" />
			</classpath>
			<transaction src="ddl3-sqlserver.sql" />
		</sql>
	</target>
	
	<target name="incremental-9">
		<sql driver="${sql.driver}" url="${db.url}" userid="${db.user}" password="${db.pass}">
			<classpath>
				<pathelement location="../../EnvironmentLibraries/sqljdbc4.jar" />
			</classpath>
			<transaction src="ddl9-sqlserver.sql" />
		</sql>
	</target>
	
	<target name="incremental-10">
		<sql driver="${sql.driver}" url="${db.url}" userid="${db.user}" password="${db.pass}">
			<classpath>
				<pathelement location="../../EnvironmentLibraries/sqljdbc4.jar" />
			</classpath>
			<transaction src="ddl10-sqlserver.sql" />
		</sql>
	</target>
	
	<target name="incremental-11">
		<sql driver="${sql.driver}" url="${db.url}" userid="${db.user}" password="${db.pass}">
			<classpath>
				<pathelement location="../../EnvironmentLibraries/sqljdbc4.jar" />
			</classpath>
			<transaction src="ddl11-sqlserver.sql" />
		</sql>
	</target>
	
	<target name="incremental-12">
		<sql driver="${sql.driver}" url="${db.url}" userid="${db.user}" password="${db.pass}">
			<classpath>
				<pathelement location="../../EnvironmentLibraries/sqljdbc4.jar" />
			</classpath>
			<transaction src="ddl12-sqlserver.sql" />
		</sql>
	</target>
	
	<target name="incremental-13">
		<sql driver="${sql.driver}" url="${db.url}" userid="${db.user}" password="${db.pass}">
			<classpath>
				<pathelement location="../../EnvironmentLibraries/sqljdbc4.jar" />
			</classpath>
			<transaction src="ddl13-sqlserver.sql" />
		</sql>
	</target>
	
	<target name="incremental-14">
		<sql driver="${sql.driver}" url="${db.url}" userid="${db.user}" password="${db.pass}">
			<classpath>
				<pathelement location="../../EnvironmentLibraries/sqljdbc4.jar" />
			</classpath>
			<transaction src="ddl14-sqlserver.sql" />
		</sql>
	</target>

	<target name="useThalamusTest">
		<sql driver="${sql.driver}" url="${db.url}" userid="${db.user}" password="${db.pass}">
			<classpath>
				<pathelement location="../../EnvironmentLibraries/sqljdbc4.jar" />
			</classpath>
			<transaction src="thalamus_test.sql" />
		</sql>
	</target>
	
	<target name="useThalamusFake">
		<sql driver="${sql.driver}" url="${db.url}" userid="${db.user}" password="${db.pass}">
			<classpath>
				<pathelement location="../../EnvironmentLibraries/sqljdbc4.jar" />
			</classpath>
			<transaction src="thalamus_fake.sql" />
		</sql>
	</target>

	<target name="useMWTest">
		<sql driver="${sql.driver}" url="${db.url}" userid="${db.user}" password="${db.pass}">
			<classpath>
				<pathelement location="../../EnvironmentLibraries/sqljdbc4.jar" />
			</classpath>
			<transaction src="use_mw_test.sql" />
		</sql>
	</target>
	
	<target name="useMWFake">
		<sql driver="${sql.driver}" url="${db.url}" userid="${db.user}" password="${db.pass}">
			<classpath>
				<pathelement location="../../EnvironmentLibraries/sqljdbc4.jar" />
			</classpath>
			<transaction src="use_mw_fake.sql" />
		</sql>
	</target>
</project>