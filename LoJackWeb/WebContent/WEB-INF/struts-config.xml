<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE struts-config PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 1.2//EN"
                               "http://struts.apache.org/dtds/struts-config_1_2.dtd">
<struts-config>
 <data-sources/>
 <form-beans>
  <form-bean id="LoginForm" name="LoginForm" type="com.tdil.lojack.struts.forms.LoginForm"/>
  <form-bean id="RequestResetPasswordForm" name="RequestResetPasswordForm" type="com.tdil.lojack.struts.forms.RequestResetPasswordForm"/>
  <form-bean id="ResetPasswordForm" name="ResetPasswordForm" type="com.tdil.lojack.struts.forms.ResetPasswordForm"/>
  <form-bean id="RegisterForm" name="RegisterForm" type="com.tdil.lojack.struts.forms.RegisterForm"/>
  <form-bean id="UpdatePersonForm" name="UpdatePersonForm" type="com.tdil.lojack.struts.forms.RegisterForm"/>
  <form-bean id="AlarmsForm" name="AlarmsForm" type="com.tdil.lojack.struts.forms.AlarmsForm"/>
  <form-bean id="AlarmAgendaForm" name="AlarmAgendaForm" type="com.tdil.lojack.struts.forms.AlarmAgendaForm"/>
  <form-bean id="AlarmAlertConfigurationForm" name="AlarmAlertConfigurationForm" type="com.tdil.lojack.struts.forms.AlarmAlertConfigurationForm"/>
  <form-bean id="LightsForm" name="LightsForm" type="com.tdil.lojack.struts.forms.LightsForm"/>
  <form-bean id="LightAgendaForm" name="LightAgendaForm" type="com.tdil.lojack.struts.forms.LightAgendaForm"/>
  <form-bean id="LightAlertConfigurationForm" name="LightAlertConfigurationForm" type="com.tdil.lojack.struts.forms.LightAlertConfigurationForm"/>
  <form-bean id="CameraForm" name="CameraForm" type="com.tdil.lojack.struts.forms.CameraForm"/>
  <form-bean id="EditProfileForm" name="EditProfileForm" type="com.tdil.lojack.struts.forms.EditProfileForm"/>
  <form-bean id="ChangePasswordForm" name="ChangePasswordForm" type="com.tdil.lojack.struts.forms.ChangePasswordForm"/>
  <form-bean id="VehiclesSpeedLimitForm" name="VehiclesSpeedLimitForm" type="com.tdil.lojack.struts.forms.prevent.VehiclesSpeedLimitForm"/>
  <form-bean id="VehiclesSecureZoneForm" name="VehiclesSecureZoneForm" type="com.tdil.lojack.struts.forms.prevent.VehiclesSecureZoneForm"/>
  <form-bean id="SelectVehiclesForMapForm" name="SelectVehiclesForMapForm" type="com.tdil.lojack.struts.forms.prevent.SelectVehiclesForm"/>
  <form-bean id="SelectVehiclesForPhonesForm" name="SelectVehiclesForPhonesForm" type="com.tdil.lojack.struts.forms.prevent.SelectVehiclesForm"/>
  <form-bean id="ContactForm" name="ContactForm" type="com.tdil.lojack.struts.forms.ContactForm"/>
  <form-bean id="PreventLoginForm" name="PreventLoginForm" type="com.tdil.lojack.struts.forms.PreventLoginForm"/>
 </form-beans>
 <global-exceptions/>
 <global-forwards>
  <forward name="ajaxReturn" path="/empty.jsp"/>
  <forward name="notLogged" path="/index.jsp"/>
  <forward name="notAuthorized" path="/index.jsp"/>
  <forward name="invalidAction" path="/index.jsp"/>
 </global-forwards>
 <action-mappings>

  <action name="LoginForm" path="/login" scope="request" type="com.tdil.lojack.struts.action.LoginAction"/>
  <action path="/checkSession" scope="request" type="com.tdil.lojack.struts.action.CheckSessionAjaxAction"/>
  
  <action path="/facebooklogin" scope="request" type="com.tdil.lojack.struts.action.LoginFacebookAction">
  	<forward name="register" path="/index.jsp?openRegister=true" redirect="true"/>
  	<forward name="continue" path="/home.jsp" redirect="true"/>
  	<forward name="cancel" path="/index.jsp" redirect="true"/>
  </action>
  
  <action path="/facebookconnect" type="com.tdil.lojack.struts.action.FacebookConnectAction">
  	<forward name="continue" path="/social.jsp" redirect="true"/>
  </action>
  
  <action path="/facebookremove" scope="session" type="com.tdil.thalamusweb.struts.action.DeleteFacebookAction">
  	<forward name="continue" path="/social.jsp" redirect="true"/>
  </action>
  
  <action path="/twitterlogin" scope="request" type="com.tdil.lojack.struts.action.LoginTwitterAction">
  	<forward name="register" path="/index.jsp?openRegister=true" redirect="true"/>
  	<forward name="continue" path="/home.jsp" redirect="true"/>
  	<forward name="cancel" path="/index.jsp" redirect="true"/>
  </action>
  
  <action path="/twitterconnect" type="com.tdil.lojack.struts.action.TwitterConnectAction">
  	<forward name="continue" path="/social.jsp" redirect="true"/>
  </action>
  
  <action path="/twitterremove" scope="session" type="com.tdil.thalamusweb.struts.action.DeleteTwitterAction">
  	<forward name="continue" path="/social.jsp" redirect="true"/>
  </action>
  
  <action name="RequestResetPasswordForm" path="/requestResetPassword" scope="request" type="com.tdil.lojack.struts.action.RequestResetPasswordAction"/>
  <action name="ResetPasswordForm" path="/goToResetPassword" scope="session" type="com.tdil.lojack.struts.action.GoToResetPasswordAction">
  	<forward name="continue" path="/resetPassword.jsp" redirect="true"/>
  </action>
  <action name="ResetPasswordForm" path="/resetPassword" scope="session" type="com.tdil.lojack.struts.action.ResetPasswordAction">
  	<forward name="continue" path="/home.jsp" redirect="true"/>
  	<forward name="failure" path="/resetPassword.jsp"/>
  </action>
  
  <action path="/logout" type="com.tdil.lojack.struts.action.LogoutAction"/>
  
  <action name="RegisterForm" path="/register" scope="session" type="com.tdil.lojack.struts.action.ThalamusRegisterAction">
  </action>

  <action name="UpdatePersonForm" path="/goToUpdatePerson" scope="session" type="com.tdil.lojack.struts.action.GoToUpdatePersonAction">
  	<forward name="continue" path="/updatePerson.jsp" redirect="true"/>
  </action>
  <action name="UpdatePersonForm" path="/updatePerson" scope="session" type="com.tdil.lojack.struts.action.ThalamusUpdatePersonAction">
  </action>
  
  <action name="EditProfileForm" parameter="WebsiteUser" path="/goToEditProfile" scope="session" type="com.tdil.lojack.struts.action.GoToEditProfileAction">
  	<forward name="continue" path="/editAvatar.jsp" redirect="true"/>
  </action>
  <action path="/uploadAvatar" parameter="WebsiteUser" type="com.tdil.lojack.struts.action.UploadAvatarAction"/>
  <action name="EditProfileForm" parameter="WebsiteUser" path="/viewAvatar" scope="session" type="com.tdil.lojack.struts.action.ViewAvatarAction"/>
  <action name="EditProfileForm" parameter="WebsiteUser" path="/saveProfile" scope="session" type="com.tdil.lojack.struts.action.SaveProfileAction">
  	<forward name="continue" path="/home.jsp" redirect="true"/>
  	<forward name="failure" path="/editAvatar.jsp"/>
  </action>
  
  <action name="ChangePasswordForm" parameter="WebsiteUser" path="/goToChangePassword" scope="session" type="com.tdil.lojack.struts.action.GoToChangePasswordAction">
  	<forward name="continue" path="/changePassword.jsp" redirect="true"/>
  </action>
  
  <action name="ChangePasswordForm" parameter="WebsiteUser" path="/changePassword" scope="session" type="com.tdil.lojack.struts.action.ThalamusSaveAjaxAction">
  	<forward name="failure" path="/changePassword.jsp"/>
  	<forward name="continue" path="/home.jsp" redirect="true"/>
  </action>
  
  <action path="/searchStates" type="com.tdil.lojack.struts.action.SearchStatesAjaxAction"/>
  
  <!-- Home -->
  <action path="/activateAlarm" parameter="HomeUser" scope="request" type="com.tdil.lojack.struts.action.ActivateAlarmAjaxAction"/>
  <action path="/deactivateAlarm" parameter="HomeUser" scope="request" type="com.tdil.lojack.struts.action.DeactivateAlarmAjaxAction"/>
  <action path="/sendPanic" parameter="HomeUser" scope="request" type="com.tdil.lojack.struts.action.SendPanicAlarmAjaxAction"/>
  
  <action name="AlarmsForm" parameter="HomeUser" path="/goToHomeAlarms" scope="session" type="com.tdil.lojack.struts.action.GoToHomeAlarmsAction">
  	<forward name="continue" path="/homeAlarmas.jsp" redirect="true"/>
  </action>
  <action name="AlarmAgendaForm" parameter="HomeUser" path="/goToHomeAlarmAgenda" scope="session" type="com.tdil.lojack.struts.action.GoToHomeAlarmAgendaAction">
  	<forward name="continue" path="/homeAlarmaAgenda.jsp" redirect="true"/>
  </action>
  <action name="AlarmAgendaForm" parameter="HomeUser" path="/editAlarmAgenda" scope="session" type="com.tdil.lojack.struts.action.EditAlarmAgendaAction">
  	<forward name="continue" path="/homeAlarmaAgenda.jsp" redirect="true"/>
  </action>
  <action name="AlarmAgendaForm" parameter="HomeUser" path="/saveAlarmAgenda" scope="session" type="com.tdil.lojack.struts.action.SaveAlarmAgendaAction">
  	<forward name="failure" path="/homeAlarmaAgenda.jsp"/>
  	<forward name="continue" path="/homeAlarmaAgenda.jsp" redirect="true"/>
  </action>
  <action name="AlarmAgendaForm" parameter="HomeUser" path="/resetAlarmAgenda" scope="session" type="com.tdil.lojack.struts.action.ResetFormAction">
  	<forward name="continue" path="/homeAlarmaAgenda.jsp" redirect="true"/>
  </action>
  <action name="AlarmAgendaForm" parameter="HomeUser" path="/toggleActivationAlarmAgenda" scope="session" type="com.tdil.lojack.struts.action.ToggleActivationAlarmAgendaAction">
  	<forward name="continue" path="/homeAlarmaAgenda.jsp" redirect="true"/>
  </action>
  
  <action path="/activateAlarmEmailNotification" parameter="HomeUser" scope="request" type="com.tdil.lojack.struts.action.ActivateAlarmEmailNotificationAjaxAction"/>
  <action path="/deactivateAlarmEmailNotification" parameter="HomeUser" scope="request" type="com.tdil.lojack.struts.action.DeactivateAlarmEmailNotificationAjaxAction"/>
  
  <action path="/activateLightEmailNotification" parameter="HomeUser" scope="request" type="com.tdil.lojack.struts.action.ActivateLightEmailNotificationAjaxAction"/>
  <action path="/deactivateLightEmailNotification" parameter="HomeUser" scope="request" type="com.tdil.lojack.struts.action.DeactivateLightEmailNotificationAjaxAction"/>
  
  <action name="AlarmAlertConfigurationForm" parameter="HomeUser" path="/goToHomeAlarmAlertConf" scope="session" type="com.tdil.lojack.struts.action.GoToAlarmAlertConfigurationAction">
  	<forward name="continue" path="/homeConfiguracionAlertasAlarma.jsp" redirect="true"/>
  </action>
  <action name="AlarmAlertConfigurationForm" parameter="HomeUser" path="/saveAlarmAlertConf" scope="session" type="com.tdil.lojack.struts.action.ExternalServiceSaveAjaxAction">
  </action>
  
  <action path="/renameAlarm" parameter="HomeUser" scope="request" type="com.tdil.lojack.struts.action.RenameAlarmAjaxAction"/>
  <action path="/renameLight" parameter="HomeUser" scope="request" type="com.tdil.lojack.struts.action.RenameLightAjaxAction"/>
  
  <action path="/turnOnLight" parameter="HomeUser" scope="request" type="com.tdil.lojack.struts.action.TunOnLightAjaxAction"/>
  <action path="/turnOffLight" parameter="HomeUser" scope="request" type="com.tdil.lojack.struts.action.TunOffLightAjaxAction"/>
  
  <action path="/activateLightRandomSequence" parameter="HomeUser" scope="request" type="com.tdil.lojack.struts.action.ActivateLightRandomSequenceAjaxAction"/>
  <action path="/deactivateLightRandomSequence" parameter="HomeUser" scope="request" type="com.tdil.lojack.struts.action.DeactivateLightRandomSequenceAjaxAction"/>
  
  <action name="LightsForm" parameter="HomeUser" path="/goToHomeLights" scope="session" type="com.tdil.lojack.struts.action.GoToHomeLightsAction">
  	<forward name="continue" path="/homeLuces.jsp" redirect="true"/>
  </action>
  <action name="LightAgendaForm" parameter="HomeUser" path="/goToHomeLightAgenda" scope="session" type="com.tdil.lojack.struts.action.GoToHomeLightAgendaAction">
  	<forward name="continue" path="/homeLuzAgenda.jsp" redirect="true"/>
  </action>
  <action name="LightAgendaForm" parameter="HomeUser" path="/editLightAgenda" scope="session" type="com.tdil.lojack.struts.action.EditLightAgendaAction">
  	<forward name="continue" path="/homeLuzAgenda.jsp" redirect="true"/>
  </action>
  <action name="LightAgendaForm" parameter="HomeUser" path="/saveLightAgenda" scope="session" type="com.tdil.lojack.struts.action.SaveLightAgendaAction">
  	<forward name="failure" path="/homeLuzAgenda.jsp"/>
  	<forward name="continue" path="/homeLuzAgenda.jsp" redirect="true"/>
  </action>
  <action name="LightAgendaForm" parameter="HomeUser" path="/resetLightAgenda" scope="session" type="com.tdil.lojack.struts.action.ResetFormAction">
  	<forward name="continue" path="/homeLuzAgenda.jsp" redirect="true"/>
  </action>
  <action name="LightAgendaForm" parameter="HomeUser" path="/toggleActivationLightAgenda" scope="session" type="com.tdil.lojack.struts.action.ToggleActivationLightAgendaAction">
  	<forward name="continue" path="/homeLuzAgenda.jsp" redirect="true"/>
  </action>
  
  <action name="LightAlertConfigurationForm" parameter="HomeUser" path="/goToHomeLightAlertConf" scope="session" type="com.tdil.lojack.struts.action.GoToLightAlertConfigurationAction">
  	<forward name="continue" path="/homeConfiguracionAlertasLuz.jsp" redirect="true"/>
  </action>
  <action name="LightAlertConfigurationForm" parameter="HomeUser" path="/saveLightAlertConf" scope="session" type="com.tdil.lojack.struts.action.ExternalServiceSaveAjaxAction">
  </action>
  
  <action name="CameraForm" parameter="HomeUser" path="/goToHomeCamera" scope="session" type="com.tdil.lojack.struts.action.GoToHomeCameraAction">
  	<forward name="continue" path="/homeCamaras.jsp" redirect="true"/>
  </action>
  
  <action name="CameraForm" parameter="HomeUser" path="/selectCamera" scope="session" type="com.tdil.lojack.struts.action.SelectCameraAction">
  	<forward name="continue" path="/homeCamara.jsp" redirect="true"/>
  </action>
  
  <action name="CameraForm" parameter="HomeUser" path="/toggleCameraView" scope="session" type="com.tdil.lojack.struts.action.ToggleCameraViewAction">
  	<forward name="continue" path="/homeCamara.jsp" redirect="true"/>
  </action>

  <!-- Prevent -->
  
  <action name="PreventLoginForm" parameter="PreventUser" path="/goToPreventLogin" scope="session" type="com.tdil.lojack.struts.action.GoToPreventAction">
  	<forward name="login" path="/loginPrevent.jsp" redirect="true"/>
  </action>
  <action name="PreventLoginForm" parameter="PreventUser" path="/preventLogin" scope="session" type="com.tdil.lojack.struts.action.LoginPreventAction">
  </action>
  
  <action name="VehiclesSpeedLimitForm" parameter="PreventUser" path="/goToVehiculesSpeedLimits" scope="session" type="com.tdil.lojack.struts.action.GoToVehiclesSpeedLimitAction">
  	<forward name="continue" path="/vehiculosVelocidades.jsp" redirect="true"/>
  </action>
  <action name="VehiclesSpeedLimitForm" parameter="PreventUser" path="/saveVehiculesSpeedLimits" scope="session" type="com.tdil.lojack.struts.action.SaveVehiclesSpeedLimitAjaxAction">
  </action>
  <action name="VehiclesSecureZoneForm" parameter="PreventUser" path="/goToVehiculesSecureZones" scope="session" type="com.tdil.lojack.struts.action.GoToVehiclesSecureZoneAction">
  	<forward name="continue" path="/vehiculosZonasSeguras.jsp" redirect="true"/>
  </action>
  <action name="VehiclesSecureZoneForm" parameter="PreventUser" path="/saveVehiculesSecureZones" scope="session" type="com.tdil.lojack.struts.action.SaveSecureZonesAjaxAction">
  </action>
  <action name="SelectVehiclesForMapForm" parameter="PreventUser" path="/goToVehiculesForMap" scope="session" type="com.tdil.lojack.struts.action.GoToVehiclesSelectionAction">
  	<forward name="continue" path="/seleccionarVehiculoParaMapa.jsp" redirect="true"/>
  </action>
  <action name="SelectVehiclesForMapForm" parameter="PreventUser" path="/locateVehicleInMap" scope="session" type="com.tdil.lojack.struts.action.LocateVehicleInMapAction">
  	<forward name="continue" path="/productoPrevent.jsp?showinmap=1" redirect="true"/>
  </action>

  <action name="SelectVehiclesForPhonesForm" parameter="PreventUser" path="/goToVehiculesForPhone" scope="session" type="com.tdil.lojack.struts.action.GoToVehiclesSelectionAction">
  	<forward name="continue" path="/seleccionarVehiculoParaTelefonos.jsp" redirect="true"/>
  </action>
  <action name="SelectVehiclesForPhonesForm" parameter="PreventUser" path="/editVehiculePhones" scope="session" type="com.tdil.lojack.struts.action.EditVehiclePhonesAction">
  	<forward name="continue" path="/editarTelefonosVehiculo.jsp" redirect="true"/>
  </action>
  <action name="SelectVehiclesForPhonesForm" parameter="PreventUser" path="/saveVehiculesPhones" scope="session" type="com.tdil.lojack.struts.action.SaveVehiclesPhonesAjaxAction">
  </action>
  
  <action name="ContactForm" path="/goToContact" scope="session" type="com.tdil.lojack.struts.action.GoToContactAction">
  	<forward name="continue" path="/contacto.jsp" redirect="true"/>
  </action>
  <action name="ContactForm" path="/contact" scope="session" type="com.tdil.lojack.struts.action.ContactAction"/>

 </action-mappings>
 
 <controller processorClass="com.tdil.struts.AuthorizationRequestProcessor"/>
 <message-resources parameter="com.tdil.lojack.struts.resources.ApplicationResources"/>
</struts-config>
